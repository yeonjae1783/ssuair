{% extends "layout.html" %}

{% block content %}


<div class="page-header">
    <h1>{{ title }}
        <small><span class="glyphicon glyphicon-refresh" aria-hidden="true"></span>
            <span class="sr-only">Error:</span>
            {{ message }}
        </small>
    </h1>

</div>

<div class="row">
    <div class="col-xs-6 col-md-8">
        ...
    </div>

    <div class="col-xs-6 col-md-4" style="user-select: auto;">
        <div class="card">
            <div class="card-header"> Header1</div>
            <div class="card-body">
                <dl class="dl-horizontal">
                    <dt>DATA1</dt>
                    <dd>
                        <div class="progress">
                            <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="40"
                                 aria-valuemin="0"
                                 aria-valuemax="100" style="width: 40%">
                                <span class="sr-only">40% Complete (success)</span>
                            </div>
                        </div>
                    </dd>

                    <dt>DATA1</dt>
                    <dd>
                        <div class="progress">
                            <div class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="20"
                                 aria-valuemin="0"
                                 aria-valuemax="100" style="width: 20%">
                                <span class="sr-only">20% Complete</span>
                            </div>
                        </div>
                    </dd>

                    <dt>DATA1</dt>
                    <dd>
                        <div class="progress">
                            <div class="progress-bar progress-bar-warning" role="progressbar" aria-valuenow="60"
                                 aria-valuemin="0"
                                 aria-valuemax="100" style="width: 60%">
                                <span class="sr-only">60% Complete (warning)</span>
                            </div>
                        </div>
                    </dd>

                    <dt>DATA1</dt>
                    <dd>
                        <div class="progress">
                            <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="80"
                                 aria-valuemin="0"
                                 aria-valuemax="100" style="width: 80%">
                                <span class="sr-only">80% Complete (danger)</span>
                            </div>
                        </div>
                    </dd>
                </dl>
            </div>
        </div>

    </div>
</div>

<div class="row">
    <div class="col-md-12">
        <canvas id="chart3"></canvas>
    </div>
</div>

{% endblock %}

{% block scripts %}


<!-- TODO response 데이터로 변경 필요 -->
<script>
		function randomNumber(min, max) {
			return Math.random() * (max - min) + min;
		}

		function randomBar(date, lastClose) {
			var open = randomNumber(lastClose * 0.95, lastClose * 1.05).toFixed(2);
			var close = randomNumber(open * 0.95, open * 1.05).toFixed(2);
			return {
				t: date.valueOf(),
				y: close
			};
		}

		var date = moment("12/25/1995", "MM-DD-YYYY");
		var data = [randomBar(date, 30)];
		while (data.length < 60) {
			date = date.clone().add(1, 'd');
			if (date.isoWeekday() <= 5) {
				data.push(randomBar(date, data[data.length - 1].y));
			}
		}

		var ctx = document.getElementById('chart3').getContext('2d');

		var color = Chart.helpers.color;
		var cfg = {
			type: 'line',
			data: {
				datasets: [{
					label: 'CHRT - Chart.js Corporation',
					backgroundColor: color(window.chartColors.red).alpha(0.5).rgbString(),
					borderColor: window.chartColors.red,
					data: data,
					type: 'line',
					pointRadius: 0,
					fill: false,
					lineTension: 0,
					borderWidth: 2
				}]
			},
			options: {
				scales: {
					xAxes: [{
						type: 'time',
						distribution: 'series',
						ticks: {
							source: 'data',
							autoSkip: true
						}
					}],
					yAxes: [{
						scaleLabel: {
							display: true,
							labelString: 'Closing price ($)'
						}
					}]
				},
				tooltips: {
					intersect: false,
					mode: 'index',
					callbacks: {
						label: function(tooltipItem, myData) {
							var label = myData.datasets[tooltipItem.datasetIndex].label || '';
							if (label) {
								label += ': ';
							}
							label += parseFloat(tooltipItem.value).toFixed(2);
							return label;
						}
					}
				}
			}
		};

		var chart = new Chart(ctx, cfg);





</script>

{% endblock %}